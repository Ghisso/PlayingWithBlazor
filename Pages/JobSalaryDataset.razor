@page "/jobsalarydataset"
@using PlayingWithBlazor.Models
@using System.IO
@using Newtonsoft.Json
@inject MelbourneHousePricesDataset MelbourneDataset

<h1>Indeed Jobs Dataset</h1>

@if(Dataset == null)
{
    <p>The data is pretty large so it takes a little while to load ...</p>
    <MatProgressBar Indeterminate="true"></MatProgressBar>
}
else
{
    <table class="table">
        <thead>
            <tr>
                <th>Suburb</th>
                <th>Address</th>
                <th>Rooms</th>
                <th>Type</th>
                <th>Price</th>
                <th>Method</th>
                <th>Seller</th>
                <th>Date</th>
                <th>Distance</th>
                <th>Postcode</th>
                <th>Number of Bedrooms</th>
                <th>Number of Bathrooms</th>
                <th>Number of car spots</th>
                <th>Land Area</th>
                <th>Building Area</th>
                <th>Year Built</th>
                <th>Council Area</th>
                <th>Region Name</th>
                <th>Property Count in Area</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var row in Dataset)
            {
                <tr>
                    <td>@row.Suburb</td>
                    <td>@row.Address</td>
                    <td>@row.Rooms</td>
                    <td>@row.Type</td>
                    <td>@row.Price</td>
                    <td>@row.Method</td>
                    <td>@row.SellerG</td>
                    <td>@row.Date</td>
                    <td>@row.Distance</td>
                    <td>@row.Postcode</td>
                    <td>@row.Bedroom2</td>
                    <td>@row.Bathroom</td>
                    <td>@row.Car</td>
                    <td>@row.Landsize</td>
                    <td>@row.BuildingArea</td>
                    <td>@row.YearBuilt</td>
                    <td>@row.CouncilArea</td>
                    <td>@row.Regionname</td>
                    <td>@row.Propertycount</td>
                </tr>
            }
        </tbody>
    </table>
}


@code
{
    private List<MelbourneHousePricesInput> Dataset;

    protected override async Task OnInitAsync()
    {
        if(Dataset == null)
        {
            Dataset = await MelbourneDataset.GetDataset();
        }
    }
}
